<html>
<head>
  <title>S&P 500 Stocks</title>
  <script>
    function getSP500Stocks() {
      const apiKey = '4f0f5ee0b6msh1bcb7e2bb792a18p18c6b0jsn03bc958312b3'; // Replace with your valid API key
      const url = `https://alpha-vantage.p.rapidapi.com/query?function=SYMBOL_SEARCH&keywords=*&apikey=${apiKey}`;
      const requestOptions = {
        method: 'GET',
        headers: {
          'X-RapidAPI-Host': 'alpha-vantage.p.rapidapi.com',
          'X-RapidAPI-Key': '4f0f5ee0b6msh1bcb7e2bb792a18p18c6b0jsn03bc958312b3' // Replace with your RapidAPI key
        },
        redirect: 'follow'
      };
      fetch(url, requestOptions)
        .then(response => response.json())
        .then(data => {
          const stockData = data.bestMatches;
          displaySP500Stocks(stockData);
        })
        .catch(error => {
          console.log('An error occurred:', error);
        });
    }
    function displaySP500Stocks(stockData) {
      const tableBody = document.getElementById('stock-table-body');
      stockData.forEach(stock => {
        const row = document.createElement('tr');
        const symbolCell = document.createElement('td');
        symbolCell.textContent = stock['1. symbol'];
        const companyNameCell = document.createElement('td');
        companyNameCell.textContent = stock['2. name'];
        row.appendChild(symbolCell);
        row.appendChild(companyNameCell);
        tableBody.appendChild(row);
      });
    }
    // Retrieve the S&P 500 stock list
    getSP500Stocks();
  </script>
</head>
<body>
  <h1>S&P 500 Stocks</h1>
  <table>
    <thead>
      <tr>
        <th>Symbol</th>
        <th>Company Name</th>
      </tr>
    </thead>
    <tbody id="stock-table-body">
      <!-- Table rows will be dynamically added here -->
    </tbody>
  </table>
</body>
</html>
